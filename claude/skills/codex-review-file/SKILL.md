---
name: codex-review-file
description: OpenAI Codex (GPT-5) を使用して特定のファイルをレビュー。「ファイルレビュー」「このファイルをレビュー」などの依頼で起動。
allowed-tools:
  - Read
  - Bash
model: claude-haiku-4-5-20251001
user-invocable: true
---

# Codex Review File スキル

OpenAI Codex CLI (GPT-5) を使用して、指定されたファイルをレビューします。

**IMPORTANT: このスキルを使用する際は、特に指定が無い限り日本語でユーザーとコミュニケーションを取ってください。**

## 概要

このスキルは、Goベースの高性能SSP（Supply Side Platform）広告サーバーのコードレビューに最適化されています。厳格なレイテンシ要件を持つEchoフレームワークベースのプロジェクトを想定しています。

## ワークフロー

### 1. ファイルパスの確認

ユーザーからファイルパスが指定されていない場合は、レビューするファイルを尋ねます。

### 2. Codex CLI でレビュー実行

以下のコマンドを実行します。Codex CLI側でファイルを読み取ってレビューします。

```bash
codex exec -m "gpt-5.2-codex" "ファイル '<FILE_PATH>' を読み込み、以下の観点でレビューしてください：
1. コード品質とGoのベストプラクティス
2. パフォーマンス最適化の機会（メモリ、CPU、レイテンシ）
3. 潜在的なバグやエッジケース
4. アーキテクチャと設計パターン
5. 改善提案

コンテキスト: これは厳格なレイテンシ要件を持つ高性能SSP広告サーバー（Go + Echoフレームワーク）の一部です。"
```

**注意**: `<FILE_PATH>` を実際のファイルパスに置き換えてください。

### 4. 結果の表示

Codexのレビュー結果を日本語で表示します。

### 5. 要約

主要な発見事項と実行可能な推奨事項を日本語で要約します。

## レビュー観点

1. **コード品質**: Goのベストプラクティスに沿っているか
2. **パフォーマンス最適化**: メモリ、CPU、レイテンシの改善機会
3. **潜在的なバグ**: エッジケースや問題点
4. **アーキテクチャ**: 設計パターンの適切性
5. **改善提案**: より良い実装方法

## 注意事項

- ファイルが存在しない場合は、その旨を通知してください
- ファイルが非常に大きい場合は、主要な関数やセクションに絞ってレビューを検討
- Go以外の言語の場合は、プロンプトを適宜調整

## トラブルシューティング

### Codex CLI が見つからない

```bash
# npm でインストール
npm install -g @openai/codex
```

### 認証エラー

OpenAI APIキーが設定されているか確認してください。
