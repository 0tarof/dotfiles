# PRレビュー対応のルール

PRでレビューコメントをもらった場合の対応ルール。

## コメントの確認方法

- `gh pr view --comments` でPRのコメントを確認する
- `gh pr checks` でCIの状態を確認する
- Resolveされていないコメントのみを対応対象とする

## 対応の原則

1. **レビューを鵜呑みにしない**
   - レビュワーの指摘が正しいとは限らない
   - 指摘に疑問がある場合は、理由を添えて質問・反論する
   - 技術的な根拠や代替案を示して議論する

2. **Resolvedコメントは対応しない**
   - すでにResolveされたコメントは対応済みとみなす
   - 再度対応が必要な場合はレビュワーがUnresolveするべき

3. **対応後はコメントをResolveする**
   - 修正を行ったらコメントをResolveする
   - 議論の結果、対応不要と判断した場合もResolveする
   - Resolveする際は対応内容を簡潔にコメントする

## ghコマンドの活用

```bash
# PRのコメント確認
gh pr view <PR番号> --comments

# レビューコメントへの返信
gh pr comment <PR番号> --body "対応内容"

# PRのステータス確認
gh pr status

# CIチェックの確認
gh pr checks <PR番号>
```

## Tips

### Greptileのレビューをフィルタする

- Greptileの自動レビューは `greptile-apps[bot]` というユーザー名で投稿される
- 人間のレビューとBotのレビューを区別して対応する
- Botのレビューは参考程度に、人間のレビューを優先する

## 対応フロー

1. `gh pr view --comments` でコメント確認
2. 未Resolveのコメントを確認
3. 各コメントに対して：
   - 同意する場合：修正してResolve
   - 同意しない場合：理由を説明して議論
   - 質問の場合：回答してResolve
4. 修正をコミット・プッシュ
5. `gh pr checks` でCIが通ることを確認
